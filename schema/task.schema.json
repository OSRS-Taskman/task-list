{
	"$id": "http://osrs-taskman.com/task.schema.json",
	"$schema": "http://json-schema.org/draft-07/schema",
	"type": "object",
	"required": ["id", "name", "wikiLink", "imageLink", "displayItemId"],
	"additionalProperties": false,
	"properties": {
		"id": {
			"type": "string",
			"format": "uuid"
		},
		"name": {
			"type": "string",
			"maxLength": 255
		},
		"tip": {
			"type": "string"
		},
		"wikiLink": {
			"type": "string",
			"format": "uri",
			"pattern": "^https://"
		},
		"imageLink": {
			"type": "string",
			"format": "uri",
			"pattern": "^https://"
		},
		"displayItemId": {
			"type": "integer",
			"minimum": 0
		},
		"verification": {
			"type": "object",
			"required": ["method"],
			"additionalProperties": false,
			"properties": {
				"method": {
					"type": "string",
					"enum": ["collection-log", "achievement-diary"]
				},
				"itemIds": {
					"type": "array",
					"items": {
						"type": "integer",
						"minimum": 0
					}
				},
				"count": {
					"type": "integer",
					"minimum": 1
				},
				"region": {
					"type": "string",
					"minLength": 1
				},
				"difficulty": {
					"type": "string",
					"minLength": 1
				}
			},
			"if": {
				"properties": {
					"method": { "const": "collection-log" }
				}
			},
			"then": {
				"required": ["method", "itemIds", "count"]
			},
			"else": {
				"if": {
					"properties": {
						"method": { "const": "achievement-diary" }
					}
				},
				"then": {
					"required": ["method", "region", "difficulty"]
				}
			}
		}
	}
}
